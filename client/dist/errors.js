/**
 * @var Array List of all errors occurred.
 */
window.errors = [];

/**
 * Add one error to the list of errors.
 */
function addError(error) {
  // Ensure error is an object, otherwise property access will fail.
  if (typeof(error) != "object") {
    return;
  }

  // Push an error on the stack.
  window.errors.push(error);
}

/**
 * Catch uncaught exceptions generated by JavaScript code.
 */
window.onerror = function(message, url, line, column, error) {
  addError({
    type: "javascript",
    message: message,
    location: url + ":" + line + ":" + column
  });
};
